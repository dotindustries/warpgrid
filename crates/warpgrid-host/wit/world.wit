package warpgrid:shim@0.1.0;

/// The WarpGrid shim world.
///
/// Guest components that target WarpGrid import these interfaces to access
/// host-provided filesystem, DNS, signal, database, and threading services.
world warpgrid-shims {
    import filesystem;
    import dns;
    import signals;
    import database-proxy;
    import threading;
}

/// Async handler world for WASI 0.3 request-driven workloads.
///
/// Extends the base shim world with an exported `handle-request` function
/// that the host invokes for each inbound HTTP request. The Wasmtime
/// component-model-async runtime enables concurrent invocations without
/// blocking.
world warpgrid-async-handler {
    import filesystem;
    import dns;
    import signals;
    import database-proxy;
    import threading;

    export async-handler;
}
