{% if instances.is_empty() %}
<div class="bg-grid-850 border border-grid-700/30 border-dashed rounded-xl p-10 text-center">
  <svg class="w-10 h-10 mx-auto text-grid-700 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"/></svg>
  <p class="text-slate-400 font-display font-medium">No instances running</p>
  <p class="text-xs text-slate-600 mt-1">Scale up to start instances</p>
</div>
{% else %}
<div class="bg-grid-850 border border-grid-700/30 rounded-xl overflow-hidden">
  <table class="w-full text-sm">
    <thead>
      <tr class="border-b border-grid-700/30 text-left">
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">ID</th>
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">Node</th>
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">Status</th>
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">Health</th>
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">Restarts</th>
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">Memory</th>
        <th class="px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500">Uptime</th>
      </tr>
    </thead>
    <tbody>
      {% for inst in instances %}
      <tr class="border-b border-grid-800/60 row-hover transition-colors">
        <td class="px-4 py-3 font-mono text-sm text-slate-300">{{ inst.id }}</td>
        <td class="px-4 py-3">
          <a href="/dashboard/nodes/{{ inst.node_id }}" class="text-grid-info hover:text-grid-info/80 font-mono text-sm transition-colors">{{ inst.node_id }}</a>
        </td>
        <td class="px-4 py-3 font-mono">
          <span class="inline-flex items-center gap-1.5">
            <span class="w-1.5 h-1.5 rounded-full {% if inst.status == "Running" %}bg-grid-accent glow-green{% elif inst.status == "Starting" %}bg-grid-info glow-blue{% elif inst.status == "Stopping" %}bg-grid-warn glow-amber{% else %}bg-slate-600{% endif %}"></span>
            <span class="{{ inst.status_color }}">{{ inst.status }}</span>
          </span>
        </td>
        <td class="px-4 py-3 font-mono {{ inst.health_color }}">{{ inst.health }}</td>
        <td class="px-4 py-3 font-mono {% if inst.restart_count > 0 %}text-grid-warn{% else %}text-slate-500{% endif %}">{{ inst.restart_count }}</td>
        <td class="px-4 py-3 font-mono text-slate-400">{{ inst.memory_display }}</td>
        <td class="px-4 py-3 font-mono text-slate-500 text-xs">{{ inst.uptime_display }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}
